<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Bringer</title>
  <link rel="stylesheet" href="/style.css">
</head>

<body>
  <h2>Bringer</h2>

  <div class="tabs" id="mainTabs">
    <button class="tab-link active" data-tab="Home">Home</button>
    <button class="tab-link" data-tab="Bitmap">Bitmap</button>
    <button class="tab-link" data-tab="Epub">Epub</button>
    <button class="tab-link" data-tab="Settings">Settings</button>
    <button class="tab-link" data-tab="Logs">Logs</button>
  </div>

  <!-- HOME TAB -->
  <div id="Home" class="tab-content active">
    <h3>Home</h3>
    <p>System Ready.</p>
  </div>

  <!-- APPS TAB -->


  <!-- BITMAP TAB -->
  <div id="Bitmap" class="tab-content">
    <h3>Bitmap Creator</h3>

    <div class="bitmap-controls">
      <label>Target:
        <select id="bmpTarget">
          <option value="oled">OLED (128x64)</option>
          <option value="epd" selected>E-Paper (128x296)</option>
        </select>
      </label>
      <button id="btnBmpClear">Clear</button>
      <button id="btnBmpInvert">Invert</button>
      <button id="btnBmpExport">Export Code</button>
      <button id="btnBmpSetWallpaper">Set as Wallpaper</button>
    </div>

    <div class="bitmap-upload">
      <label>Upload Image (auto-dither): <input type="file" id="bmpUpload" accept="image/*"></label>
    </div>

    <div class="canvas-container">
      <canvas id="bmpCanvas"></canvas>
    </div>

    <div class="bitmap-gallery">
      <h4>Preset Wallpapers</h4>
      <div class="gallery-grid">
        <div class="gallery-item" data-preset="noise">
          <div class="gallery-thumb" id="thumb-noise">Noise</div>
          <span>Noisy</span>
        </div>
        <div class="gallery-item" data-preset="stripes">
          <div class="gallery-thumb" id="thumb-stripes">
            <span style="color:#999">Loading...</span>
          </div>
          <span>Waves</span>
        </div>
        <div class="gallery-item" data-preset="grid">
          <div class="gallery-thumb" id="thumb-grid">
            <span style="color:#999">Loading...</span>
          </div>
          <span>Dots</span>
        </div>
        <div class="gallery-item" data-preset="white">
          <div class="gallery-thumb" id="thumb-white" style="background: white; border: 2px solid #ccc;"></div>
          <span>White</span>
        </div>
        <div class="gallery-item" data-preset="black">
          <div class="gallery-thumb" id="thumb-black" style="background: black;"></div>
          <span>Black</span>
        </div>
      </div>
    </div>

    <textarea id="bmpOutput" rows="10" readonly placeholder="Exported C array will appear here..."></textarea>
  </div>

  <!-- EPUB TAB -->
  <div id="Epub" class="tab-content">
    <h3>Epub Manager</h3>
    <div style="border:1px dashed #ccc; padding:15px; margin-bottom:15px;">
      <h4>Upload Book</h4>
      <input type="file" id="epubFile" accept=".epub">
      <button id="btnUploadEpub">Upload</button>
      <span id="uploadStatus" style="margin-left:10px;"></span>
    </div>
    <div style="display:flex; justify-content:space-between; align-items:center;">
      <h4>Library</h4>
      <button id="btnRefreshEpub">Refresh</button>
    </div>
    <div id="epubList" style="margin-top:10px;">
      <!-- List -->
    </div>
  </div>

  <!-- SETTINGS TAB -->
  <div id="Settings" class="tab-content">
    <h3>Device Settings</h3>
    <p id="ipline" class="ipline">Loading status...</p>
    <div class="settings-buttons" id="settingsParams">
      <button id="btnRefreshSettings">Refresh Status</button>
      <br><br>
      <button data-action="toggle">Toggle Partial Mode</button>
      <button data-action="clean">Full Clean</button>
    </div>
  </div>

  <!-- LOGS TAB -->
  <div id="Logs" class="tab-content">
    <h3>System Logs</h3>
    <div class="logs-controls">
      <button id="btnRefreshLogs">Refresh Logs</button>
      <label><input type="checkbox" id="chkAutoRefreshLogs" checked> Auto</label>
    </div>
    <pre id="logOutput"
      style="background:#eee; border:1px solid black; padding:10px; height:300px; overflow-y:auto; font-size:0.9em; margin-top:10px;"></pre>
  </div>



  <script src="/wallpapers.js"></script>
  <script src="/app.js" defer></script>
</body>

</html>